// (C) 2017-2020 - The Woorti app is a research (non-commercial) application that was
// developed in the context of the European research project MoTiV (motivproject.eu). The
// code was developed by partner INESC-ID with contributions in graphics design by partner
// TIS. The Woorti app development was one of the outcomes of a Work Package of the MoTiV
// project.
 
// The Woorti app was originally intended as a tool to support data collection regarding
// mobility patterns from city and country-wide campaigns and provide the data and user
// management to campaign managers.
 
// The Woorti app development followed an agile approach taking into account ongoing
// feedback of partners and testing users while continuing under development. This has
// been carried out as an iterative process deploying new app versions. Along the 
// timeline, various previously unforeseen requirements were identified, some requirements
// Were revised, there were requests for modifications, extensions, or new aspects in
// functionality or interaction as found useful or interesting to campaign managers and
// other project partners. Most stemmed naturally from the very usage and ongoing testing
// of the Woorti app. Hence, code and data structures were successively revised in a
// way not only to accommodate this but, also importantly, to maintain compatibility with
// the functionality, data and data structures of previous versions of the app, as new
// version roll-out was never done from scratch.

// The code developed for the Woorti app is made available as open source, namely to
// contribute to further research in the area of the MoTiV project, and the app also makes
// use of open source components as detailed in the Woorti app license. 
 
// This project has received funding from the European Unionâ€™s Horizon 2020 research and
// innovation programme under grant agreement No. 770145.
 
// This file is part of the Woorti app referred to as SOFTWARE.

import Foundation
import CoreML

/**
* Class to perform classifications
*/
class ModelProcess {
    
    let possibleModesOfTransport = [1,3,7,9,10,15] //change on changing the model confirm!!!!!!!!! 12 left out
    let STILL_AVG_SPEED_FILTER = 2.5
    let STILL_ACCELS_BELOW_FILTER = 0.8
    
    /**
    * Perform data classification on given data
    * - parameter inputMetadata: Classifier input metadata
    */
    func classifyData(inputMetadata: MLInputMetadata){
        RawDataSegmentation.getInstance().managedObjectContext?.performAndWait {
            print("inside classifyData")
            if #available(iOS 11.0, *) {
                let model = ProductionRandomForest()
                if let input = inputMetadata.input {
                
                    do {
                        var probasDicts = [Int64: Double]()
                        let stationary = Int64(Trip.modesOfTransport.stationary.rawValue)
                        
                        if input.avgSpeed <= STILL_AVG_SPEED_FILTER && input.accelsBelowFilter >= STILL_ACCELS_BELOW_FILTER {
                            for possible in possibleModesOfTransport {
                                probasDicts[Int64(possible)] = Double(0)
                            }
                            probasDicts[stationary] = Double(1)
                        } else {
                            let predictions = try model.prediction(estimatedSpeed: Double(input.estimatedSpeed), OS: Double(input.OS), accelsBelowFilter: input.accelsBelowFilter, accelBetw_03_06: input.between_03_06, accelBetw_06_1: input.between_06_1, accelBetw_1_3: input.between_1_3, accelBetw_3_6: input.between_3_6, accelAbove_6: input.above_6, avgFilteredAccel: input.avgFilteredAccels, avgAccel: input.avgAccel, maxAccel: input.maxAccel, minAccel: input.minAccel, stdDevAccel: input.stdDevAccel, avgSpeed: input.avgSpeed, maxSpeed: input.maxSpeed, minSpeed: input.minSpeed, stdDevSpeed: input.stdDevSpeed, avgAcc: input.avgAcc, maxAcc: input.maxAcc, minAcc: input.minAcc, stdDevAcc: input.stdDevAcc, gpsTimeMean: input.gpsTimeMean, distance: input.distance)
                            
                            probasDicts = predictions.classProbability
                            probasDicts[stationary] = Double(0)
                        }
                        inputMetadata.setPredictions(predictions: probasDicts)
                    }
                    catch {
                        print("error with model prediction: \(error)")
                    }
                }
            }
        }
    }
    
    
    func testClassify(avgSpeed: Double, avgSpeedAbove: Double, avgSpeedBelow: Double, maxSpeed: Double, avgAccel: Double, avgAccelAbove: Double, avgAccelBelow: Double, distance: Double, duration: Double, activity: Double) {
        if #available(iOS 11.0, *) {
            
        }
    }
    
    func test() {
        testClassify(avgSpeed: Double(69.36257934570311), avgSpeedAbove: Double(69.36291908503198), avgSpeedBelow: Double(0.0), maxSpeed: Double(130.10389709472656), avgAccel: Double(0.5688285402926335), avgAccelAbove: Double(0.8270291243814535), avgAccelBelow: Double(0.5001017944895471), distance: Double(74.48536682128906), duration: Double(2.995042085647583), activity: Double(0))
        testClassify(avgSpeed: Double(1.4671050310134888), avgSpeedAbove: Double(1.510550453028548), avgSpeedBelow: Double(0.04385964912280702), maxSpeed: Double(1.8899999856948853), avgAccel: Double(8.491848744586033), avgAccelAbove: Double(8.616706980251205), avgAccelBelow: Double(0.014706157399043391), distance: Double(772.8062744140625), duration: Double(553.823974609375), activity: Double(1))
        testClassify(avgSpeed: Double(1.1520589590072632), avgSpeedAbove: Double(1.5394444333182442), avgSpeedBelow: Double(0.4705882352941176), maxSpeed: Double(3.5899999141693115), avgAccel: Double(6.5887561329536375), avgAccelAbove: Double(6.5887561329536375), avgAccelBelow: Double(0.0), distance: Double(234.1219024658203), duration: Double(135.00970458984378), activity: Double(1))
        testClassify(avgSpeed: Double(1.0709999799728394), avgSpeedAbove: Double(1.273333350817363), avgSpeedBelow: Double(0.3333333333333333), maxSpeed: Double(1.5199999809265137), avgAccel: Double(8.991206772017332), avgAccelAbove: Double(8.991206772017332), avgAccelBelow: Double(0.0), distance: Double(77.19854736328125), duration: Double(126.98470306396484), activity: Double(2))
        testClassify(avgSpeed: Double(1.1523679494857788), avgSpeedAbove: Double(1.468604645063711), avgSpeedBelow: Double(0.4342105263157895), maxSpeed: Double(2.7799999713897705), avgAccel: Double(7.14734191658699), avgAccelAbove: Double(7.869572416556338), avgAccelBelow: Double(0.09314843098396967), distance: Double(458.9883117675781), duration: Double(515.5985717773439), activity: Double(1))
        testClassify(avgSpeed: Double(1.1859999895095823), avgSpeedAbove: Double(0.0), avgSpeedBelow: Double(0.2), maxSpeed: Double(1.5099999904632568), avgAccel: Double(8.315854767095017), avgAccelAbove: Double(8.315854767095017), avgAccelBelow: Double(0.0), distance: Double(28.29264068603516), duration: Double(86.52558135986328), activity: Double(2))
        testClassify(avgSpeed: Double(17.32832908630371), avgSpeedAbove: Double(17.36246603840719), avgSpeedBelow: Double(0.0020338983050847462), maxSpeed: Double(34.56999969482422), avgAccel: Double(0.9661532915083312), avgAccelAbove: Double(0.9908879160678048), avgAccelBelow: Double(0.02946477384224755), distance: Double(26491.55078125), duration: Double(1595.220947265625), activity: Double(2))
        testClassify(avgSpeed: Double(16.457710266113278), avgSpeedAbove: Double(16.546555246926058), avgSpeedBelow: Double(0.00554016620498615), maxSpeed: Double(26.31999969482422), avgAccel: Double(1.140726191118336), avgAccelAbove: Double(1.1716548810760241), avgAccelBelow: Double(0.03041146109807248), distance: Double(18083.060546875), duration: Double(1189.0), activity: Double(2))
        testClassify(avgSpeed: Double(19.994525909423828), avgSpeedAbove: Double(20.013139088948567), avgSpeedBelow: Double(0.0039332000773744285), maxSpeed: Double(23.88399887084961), avgAccel: Double(0.08999948031026374), avgAccelAbove: Double(0.0), avgAccelBelow: Double(0.7076536204784318), distance: Double(172.0), duration: Double(31018.0), activity: Double(0))
        testClassify(avgSpeed: Double(18.57415008544922), avgSpeedAbove: Double(18.561240673065182), avgSpeedBelow: Double(0.00618694079573577), maxSpeed: Double(21.646535873413086), avgAccel: Double(0.09834224806394602), avgAccelAbove: Double(0.0), avgAccelBelow: Double(0.4546925566343042), distance: Double(108.0), duration: Double(21012.0), activity: Double(0))
        testClassify(avgSpeed: Double(3.7730679512023926), avgSpeedAbove: Double(3.319267749786377), avgSpeedBelow: Double(0.0), maxSpeed: Double(3.922172069549561), avgAccel: Double(4.921826296026587), avgAccelAbove: Double(4.921826296026587), avgAccelBelow: Double(0.0), distance: Double(354.0), duration: Double(337989.0), activity: Double(0))
        testClassify(avgSpeed: Double(5.69093656539917), avgSpeedAbove: Double(4.221675802360881), avgSpeedBelow: Double(0.04572667910175463), maxSpeed: Double(13.564251899719238), avgAccel: Double(1.9788628017025087), avgAccelAbove: Double(2.050375368268193), avgAccelBelow: Double(0.020004145029321702), distance: Double(541.0), duration: Double(342579.0), activity: Double(1))
        testClassify(avgSpeed: Double(10.523730278015137), avgSpeedAbove: Double(10.693790072626859), avgSpeedBelow: Double(0.016393442622950817), maxSpeed: Double(55.35158920288086), avgAccel: Double(0.2243583175513773), avgAccelAbove: Double(0.3653008525219877), avgAccelBelow: Double(0.5454852083188032), distance: Double(655.4398193359375), duration: Double(248.5780029296875), activity: Double(0))
        testClassify(avgSpeed: Double(20.731956481933594), avgSpeedAbove: Double(24.595268494807762), avgSpeedBelow: Double(0.06644091831495562), maxSpeed: Double(82.68437194824219), avgAccel: Double(0.6158403486928796), avgAccelAbove: Double(0.8727196872576717), avgAccelBelow: Double(0.2807097061760762), distance: Double(6124.0), duration: Double(1063426.0), activity: Double(2))
        testClassify(avgSpeed: Double(4.5596351623535165), avgSpeedAbove: Double(7.4908442199230185), avgSpeedBelow: Double(0.3933649289099526), maxSpeed: Double(15.92953872680664), avgAccel: Double(2.3547918139282245), avgAccelAbove: Double(2.5192605424405965), avgAccelBelow: Double(0.04780568720379147), distance: Double(267.0), duration: Double(211000.0), activity: Double(1))
        testClassify(avgSpeed: Double(15.941120147705078), avgSpeedAbove: Double(16.18424956678949), avgSpeedBelow: Double(0.01555869872701556), maxSpeed: Double(30.01000022888184), avgAccel: Double(0.2909505844701129), avgAccelAbove: Double(0.4488515613820971), avgAccelBelow: Double(0.4846793615241143), distance: Double(15649.919921875), duration: Double(1134.0), activity: Double(2))
        testClassify(avgSpeed: Double(34.03155899047852), avgSpeedAbove: Double(34.75827946807399), avgSpeedBelow: Double(0.0), maxSpeed: Double(79.88249969482422), avgAccel: Double(0.4905361810669058), avgAccelAbove: Double(0.5847854605792618), avgAccelBelow: Double(0.20307633587786256), distance: Double(4953.0), duration: Double(524000.0), activity: Double(2))
        testClassify(avgSpeed: Double(47.71074295043945), avgSpeedAbove: Double(46.889161374833854), avgSpeedBelow: Double(-0.20706176705870336), maxSpeed: Double(98.37347412109376), avgAccel: Double(0.6572105774841603), avgAccelAbove: Double(0.6950049054200497), avgAccelBelow: Double(0.100227506113163), distance: Double(4671.0), duration: Double(352518.0), activity: Double(2))
        testClassify(avgSpeed: Double(18.33966827392578), avgSpeedAbove: Double(19.810210646584977), avgSpeedBelow: Double(0.06954102920723226), maxSpeed: Double(48.87067794799805), avgAccel: Double(0.3743705731387594), avgAccelAbove: Double(0.5109634098526591), avgAccelBelow: Double(0.319317107093185), distance: Double(3662.0), duration: Double(719000.0), activity: Double(2))
        testClassify(avgSpeed: Double(20.57013702392578), avgSpeedAbove: Double(22.789210398991898), avgSpeedBelow: Double(0.11363636363636365), maxSpeed: Double(49.17536163330078), avgAccel: Double(0.3924374188773008), avgAccelAbove: Double(0.688082242773377), avgAccelBelow: Double(0.4707613636363636), distance: Double(1005.0), duration: Double(176000.0), activity: Double(0))
        testClassify(avgSpeed: Double(5.23883867263794), avgSpeedAbove: Double(5.295657952626546), avgSpeedBelow: Double(0.0), maxSpeed: Double(9.133929252624512), avgAccel: Double(1.2048394644322276), avgAccelAbove: Double(1.403628703229751), avgAccelBelow: Double(0.19112747120236093), distance: Double(45.0), duration: Double(31513.0), activity: Double(1))
        testClassify(avgSpeed: Double(1.4785720109939575), avgSpeedAbove: Double(1.494878059480248), avgSpeedBelow: Double(0.023809523809523808), maxSpeed: Double(1.7300000190734863), avgAccel: Double(8.12432716940225), avgAccelAbove: Double(8.12432716940225), avgAccelBelow: Double(0.0), distance: Double(233.32850646972656), duration: Double(149.0), activity: Double(2))
        testClassify(avgSpeed: Double(1.5195339918136597), avgSpeedAbove: Double(1.67555035245536), avgSpeedBelow: Double(0.1948051948051948), maxSpeed: Double(9.871408462524414), avgAccel: Double(3.018829456249538), avgAccelAbove: Double(4.605511716921657), avgAccelBelow: Double(0.3492934230550673), distance: Double(546.9688720703125), duration: Double(496.84161376953125), activity: Double(1))
        testClassify(avgSpeed: Double(1.1262500286102295), avgSpeedAbove: Double(1.382749989628792), avgSpeedBelow: Double(375), maxSpeed: Double(2.0899999141693115), avgAccel: Double(5.634367718660033), avgAccelAbove: Double(5.634367718660033), avgAccelBelow: Double(0.0), distance: Double(409.1936950683594), duration: Double(255.3386993408203), activity: Double(1))
        testClassify(avgSpeed: Double(36.942176818847656), avgSpeedAbove: Double(42.20510080915231), avgSpeedBelow: Double(0.07047602501737317), maxSpeed: Double(762.9006958007812), avgAccel: Double(0.8835495600745061), avgAccelAbove: Double(0.951217177491045), avgAccelBelow: Double(0.0172901320361362), distance: Double(29533.0), duration: Double(2878000.0), activity: Double(2))
        testClassify(avgSpeed: Double(14.90573024749756), avgSpeedAbove: Double(29.32484934065077), avgSpeedBelow: Double(0.4316913462844722), maxSpeed: Double(93.08578491210938), avgAccel: Double(1.7153177544654838), avgAccelAbove: Double(1.8682722400109544), avgAccelBelow: Double(0.09136258660508084), distance: Double(761.0), duration: Double(184025.0), activity: Double(1))
        testClassify(avgSpeed: Double(18.776569366455078), avgSpeedAbove: Double(19.80610481768873), avgSpeedBelow: Double(0.053475935828877), maxSpeed: Double(107.75189971923828), avgAccel: Double(0.2426852219507449), avgAccelAbove: Double(0.4371405905234244), avgAccelBelow: Double(0.5914366875695255), distance: Double(15739.259765625), duration: Double(1075.9990234375), activity: Double(2))
        testClassify(avgSpeed: Double(38.67627334594727), avgSpeedAbove: Double(40.08744884614021), avgSpeedBelow: Double(0.05041115480872363), maxSpeed: Double(90.58173370361328), avgAccel: Double(0.3970545394739041), avgAccelAbove: Double(0.3970545394739041), avgAccelBelow: Double(0.0), distance: Double(30049.0), duration: Double(2797000.0), activity: Double(2))
        testClassify(avgSpeed: Double(1.2494080066680908), avgSpeedAbove: Double(1.4494771263957802), avgSpeedBelow: Double(0.3139013452914798), maxSpeed: Double(6.300000190734862), avgAccel: Double(5.5906804796018585), avgAccelAbove: Double(5.865248950700193), avgAccelBelow: Double(0.0476452790280731), distance: Double(1391.4119873046875), duration: Double(1081.5360107421877), activity: Double(1))
        testClassify(avgSpeed: Double(43.44784164428711), avgSpeedAbove: Double(45.319951590895656), avgSpeedBelow: Double(0.040931756997546725), maxSpeed: Double(103.58216094970705), avgAccel: Double(1.0482814056301974), avgAccelAbove: Double(1.0981977721832368), avgAccelBelow: Double(0.005743964725086924), distance: Double(32138.0), duration: Double(2662969.0), activity: Double(2))
        testClassify(avgSpeed: Double(1.4675999879837036), avgSpeedAbove: Double(1.567906970201537), avgSpeedBelow: Double(0.14), maxSpeed: Double(1.7799999713897705), avgAccel: Double(7.4231342877818784), avgAccelAbove: Double(7.728997923438822), avgAccelBelow: Double(0.0002165586335936405), distance: Double(293.1098937988281), duration: Double(58452.51953125), activity: Double(1))
        testClassify(avgSpeed: Double(9.800393104553224), avgSpeedAbove: Double(9.80039227270074), avgSpeedBelow: Double(0.0), maxSpeed: Double(48.35776138305664), avgAccel: Double(0.6411828142136686), avgAccelAbove: Double(0.7241276712853947), avgAccelBelow: Double(0.1402426303260134), distance: Double(502.6950073242188), duration: Double(58.0), activity: Double(2))
        testClassify(avgSpeed: Double(12.900739669799805), avgSpeedAbove: Double(16.450949222739922), avgSpeedBelow: Double(0.3), maxSpeed: Double(60.14318084716797), avgAccel: Double(5.6504981918212165), avgAccelAbove: Double(5.6504981918212165), avgAccelBelow: Double(0.0), distance: Double(628.9647216796875), duration: Double(157.12240600585938), activity: Double(1))
        testClassify(avgSpeed: Double(1.953333020210266), avgSpeedAbove: Double(2.420000076293945), avgSpeedBelow: Double(0.3333333333333333), maxSpeed: Double(2.4200000762939453), avgAccel: Double(2.7140320884968294), avgAccelAbove: Double(3.951071639903696), avgAccelBelow: Double(0.3206319039306144), distance: Double(38.90607070922852), duration: Double(645.6701049804688), activity: Double(1))
        testClassify(avgSpeed: Double(1.4941669702529907), avgSpeedAbove: Double(1.560909087007696), avgSpeedBelow: Double(0.08333333333333333), maxSpeed: Double(2.220000028610229), avgAccel: Double(8.274036299999452), avgAccelAbove: Double(8.274036299999452), avgAccelBelow: Double(0.0), distance: Double(72.87571716308594), duration: Double(165.99920654296875), activity: Double(0))
        testClassify(avgSpeed: Double(42.715919494628906), avgSpeedAbove: Double(44.82259452263514), avgSpeedBelow: Double(0.033909723274051604), maxSpeed: Double(100.7665557861328), avgAccel: Double(0.8511780927446279), avgAccelAbove: Double(0.8897465536682476), avgAccelBelow: Double(0.007952960431874236), distance: Double(31492.0), duration: Double(2654106.0), activity: Double(2))
        testClassify(avgSpeed: Double(1.362552046775818), avgSpeedAbove: Double(1.562811947801005), avgSpeedBelow: Double(0.2676056338028169), maxSpeed: Double(14.532440185546875), avgAccel: Double(8.059346103680756), avgAccelAbove: Double(8.885837924555727), avgAccelBelow: Double(0.0939034311049868), distance: Double(1153.93798828125), duration: Double(1030.0), activity: Double(1))
        testClassify(avgSpeed: Double(1.362552046775818), avgSpeedAbove: Double(1.562811947801005), avgSpeedBelow: Double(0.2676056338028169), maxSpeed: Double(14.532440185546875), avgAccel: Double(8.059346103680756), avgAccelAbove: Double(8.885837924555727), avgAccelBelow: Double(0.0939034311049868), distance: Double(1153.93798828125), duration: Double(1030.0), activity: Double(1))
        testClassify(avgSpeed: Double(15.675959587097168), avgSpeedAbove: Double(15.872842706414142), avgSpeedBelow: Double(0.012919896640826871), maxSpeed: Double(94.40074920654295), avgAccel: Double(0.3262450617384465), avgAccelAbove: Double(0.5633028047054849), avgAccelBelow: Double(0.5184087630986447), distance: Double(15555.33984375), duration: Double(1069.0), activity: Double(2))
        testClassify(avgSpeed: Double(1.4885389804840088), avgSpeedAbove: Double(1.5330578492692681), avgSpeedBelow: Double(0.06923076923076922), maxSpeed: Double(2.359999895095825), avgAccel: Double(6.056452231613152), avgAccelAbove: Double(6.074764853670514), avgAccelBelow: Double(2.836128697019051e-05), distance: Double(813.30078125), duration: Double(63757.921875), activity: Double(2))
        testClassify(avgSpeed: Double(1.4885389804840088), avgSpeedAbove: Double(1.5330578492692681), avgSpeedBelow: Double(0.06923076923076922), maxSpeed: Double(2.359999895095825), avgAccel: Double(6.056452231613152), avgAccelAbove: Double(6.074764853670514), avgAccelBelow: Double(2.836128697019051e-05), distance: Double(813.30078125), duration: Double(63757.921875), activity: Double(2))
        testClassify(avgSpeed: Double(38.35830307006836), avgSpeedAbove: Double(38.62540010929108), avgSpeedBelow: Double(0.0), maxSpeed: Double(65.19444274902344), avgAccel: Double(1.701127810558036), avgAccelAbove: Double(1.701127810558036), avgAccelBelow: Double(0.00399878517918607), distance: Double(7999.0), duration: Double(750728.0), activity: Double(2))
        testClassify(avgSpeed: Double(1.378316044807434), avgSpeedAbove: Double(1.406516850664375), avgSpeedBelow: Double(0.06315789473684211), maxSpeed: Double(1.809999942779541), avgAccel: Double(6.654646111616131), avgAccelAbove: Double(8.835284323356936), avgAccelBelow: Double(0.2486733928952075), distance: Double(597.5587768554688), duration: Double(719.6455078125), activity: Double(1))
        testClassify(avgSpeed: Double(35.32614517211914), avgSpeedAbove: Double(34.131653416390506), avgSpeedBelow: Double(0.03916419535019247), maxSpeed: Double(84.908935546875), avgAccel: Double(2.0683772905661213), avgAccelAbove: Double(2.0683772905661213), avgAccelBelow: Double(0.0012281329128784185), distance: Double(8149.0), duration: Double(830529.0), activity: Double(2))
        testClassify(avgSpeed: Double(5.172074317932129), avgSpeedAbove: Double(14.345761924982073), avgSpeedBelow: Double(0.346723420276517), maxSpeed: Double(47.76174545288086), avgAccel: Double(3.224897881060857), avgAccelAbove: Double(3.528058457967828), avgAccelBelow: Double(0.04238741659520174), distance: Double(137.0), duration: Double(95618.0), activity: Double(1))
        testClassify(avgSpeed: Double(0.3071117103099823), avgSpeedAbove: Double(0.0), avgSpeedBelow: Double(1.0), maxSpeed: Double(0.7293835878372192), avgAccel: Double(0.3046022385404521), avgAccelAbove: Double(0.5168742602887126), avgAccelBelow: Double(0.5641072572526769), distance: Double(13.0), duration: Double(152978.0), activity: Double(0))
        testClassify(avgSpeed: Double(24.32508087158203), avgSpeedAbove: Double(24.216260160718647), avgSpeedBelow: Double(0.044380457979381324), maxSpeed: Double(54.02507781982422), avgAccel: Double(0.4141658321762139), avgAccelAbove: Double(0.555915624594642), avgAccelBelow: Double(0.3084918383814641), distance: Double(4714.0), duration: Double(697717.0), activity: Double(2))
        testClassify(avgSpeed: Double(4.3814778327941895), avgSpeedAbove: Double(4.527080746151644), avgSpeedBelow: Double(0.037815126050420166), maxSpeed: Double(7.070000171661378), avgAccel: Double(2.635159938104217), avgAccelAbove: Double(3.243375144784105), avgAccelBelow: Double(0.18934337156301848), distance: Double(1673.2132568359375), duration: Double(717.2496337890625), activity: Double(1))
        testClassify(avgSpeed: Double(2.935983896255493), avgSpeedAbove: Double(4.001497380489201), avgSpeedBelow: Double(0.3076923076923077), maxSpeed: Double(8.169137001037598), avgAccel: Double(0.09284212019591137), avgAccelAbove: Double(0.9467092420438736), avgAccelBelow: Double(0.9672641905040849), distance: Double(125.37950897216795), duration: Double(306.986083984375), activity: Double(0))
        testClassify(avgSpeed: Double(2.787249803543091), avgSpeedAbove: Double(2.8312820562949548), avgSpeedBelow: Double(25), maxSpeed: Double(4.420000076293945), avgAccel: Double(1.97946068796694), avgAccelAbove: Double(2.2846725823075844), avgAccelBelow: Double(0.13924570177279108), distance: Double(252.7484130859375), duration: Double(240.55679321289062), activity: Double(1))
        testClassify(avgSpeed: Double(1.993232250213623), avgSpeedAbove: Double(2.3387151642849573), avgSpeedBelow: Double(0.2079972534517989), maxSpeed: Double(5.850750923156737), avgAccel: Double(0.619393135804526), avgAccelAbove: Double(1.7941256084254882), avgAccelBelow: Double(0.5785413512686239), distance: Double(133.0), duration: Double(241758.0), activity: Double(0))
        testClassify(avgSpeed: Double(3.3471248149871826), avgSpeedAbove: Double(5.516250869807076), avgSpeedBelow: Double(0.4134461818870853), maxSpeed: Double(13.085986137390135), avgAccel: Double(3.1839973048459935), avgAccelAbove: Double(3.7539832647991465), avgAccelBelow: Double(0.12717719208014894), distance: Double(309.0), duration: Double(332481.0), activity: Double(0))
        testClassify(avgSpeed: Double(9.75208854675293), avgSpeedAbove: Double(9.757911491394044), avgSpeedBelow: Double(0.0), maxSpeed: Double(10.263134956359863), avgAccel: Double(0.0701709070996209), avgAccelAbove: Double(0.0), avgAccelBelow: Double(0.5349651037058881), distance: Double(137.0), duration: Double(50865.0), activity: Double(0))
        testClassify(avgSpeed: Double(4.945055961608887), avgSpeedAbove: Double(5.0543671647707615), avgSpeedBelow: Double(0.0), maxSpeed: Double(10.390456199645996), avgAccel: Double(3.4879478207159935), avgAccelAbove: Double(3.4879478207159935), avgAccelBelow: Double(0.016699711555691714), distance: Double(237.0), duration: Double(172997.0), activity: Double(1))
        testClassify(avgSpeed: Double(17.491239547729492), avgSpeedAbove: Double(17.70115867194173), avgSpeedBelow: Double(0.01227830832196453), maxSpeed: Double(28.809999465942386), avgAccel: Double(0.3540849091293145), avgAccelAbove: Double(0.6225712565059361), avgAccelBelow: Double(0.5215521219873757), distance: Double(15837.6103515625), duration: Double(1125.0), activity: Double(2))
        testClassify(avgSpeed: Double(1.1100000143051147), avgSpeedAbove: Double(1.227999997138977), avgSpeedBelow: Double(0.16666666666666666), maxSpeed: Double(1.399999976158142), avgAccel: Double(2.9975515624982583), avgAccelAbove: Double(4.921277957538794), avgAccelBelow: Double(0.39588674779964905), distance: Double(32.85800552368164), duration: Double(486.9985961914063), activity: Double(1))
        testClassify(avgSpeed: Double(5.086996078491211), avgSpeedAbove: Double(7.288868335577158), avgSpeedBelow: Double(0.2578635594876894), maxSpeed: Double(14.066397666931152), avgAccel: Double(5.017804382665289), avgAccelAbove: Double(5.415924285780887), avgAccelBelow: Double(0.060333324834484926), distance: Double(332.0), duration: Double(235326.0), activity: Double(1))
        testClassify(avgSpeed: Double(23.20501136779785), avgSpeedAbove: Double(25.695601406097413), avgSpeedBelow: Double(0.08619860910831229), maxSpeed: Double(80.88806915283203), avgAccel: Double(0.6854207455151777), avgAccelAbove: Double(0.8115296264821985), avgAccelBelow: Double(0.1371359189581927), distance: Double(2319.0), duration: Double(359913.0), activity: Double(2))
        testClassify(avgSpeed: Double(7.202067852020264), avgSpeedAbove: Double(7.419303925832112), avgSpeedBelow: Double(0.1195028962611901), maxSpeed: Double(16.520984649658207), avgAccel: Double(5.487169828553414), avgAccelAbove: Double(5.487169828553414), avgAccelBelow: Double(0.0), distance: Double(474.0), duration: Double(237375.0), activity: Double(1))
        testClassify(avgSpeed: Double(40.47324752807617), avgSpeedAbove: Double(45.806200885772704), avgSpeedBelow: Double(0.05788542211979885), maxSpeed: Double(205.5999755859375), avgAccel: Double(2.2106293997814257), avgAccelAbove: Double(2.244524613266536), avgAccelBelow: Double(0.004286249615795405), distance: Double(8010.0), duration: Double(712511.0), activity: Double(2))
        testClassify(avgSpeed: Double(5.516928672790527), avgSpeedAbove: Double(5.278093746730259), avgSpeedBelow: Double(0.07120718935748656), maxSpeed: Double(9.273052215576172), avgAccel: Double(5.2805067991071954), avgAccelAbove: Double(5.2805067991071954), avgAccelBelow: Double(0.006149165015567506), distance: Double(216.0), duration: Double(141320.0), activity: Double(1))
        testClassify(avgSpeed: Double(25.02708625793457), avgSpeedAbove: Double(25.131998920440672), avgSpeedBelow: Double(0.0), maxSpeed: Double(40.44697952270508), avgAccel: Double(0.6648837211646634), avgAccelAbove: Double(0.7558237681248936), avgAccelBelow: Double(0.17572946522664268), distance: Double(1035.0), duration: Double(148979.0), activity: Double(2))
        testClassify(avgSpeed: Double(4.092366695404054), avgSpeedAbove: Double(4.55810668291869), avgSpeedBelow: Double(0.12104352203126192), maxSpeed: Double(8.614093780517576), avgAccel: Double(1.8172070725393552), avgAccelAbove: Double(1.9071640756059365), avgAccelBelow: Double(0.03502474507109953), distance: Double(551.0), duration: Double(484743.0), activity: Double(1))
        testClassify(avgSpeed: Double(38.63570022583008), avgSpeedAbove: Double(39.77551680025847), avgSpeedBelow: Double(0.0), maxSpeed: Double(63.80525588989258), avgAccel: Double(0.4179297185907849), avgAccelAbove: Double(0.5275015969897998), avgAccelBelow: Double(0.3004887882232677), distance: Double(3747.0), duration: Double(349231.0), activity: Double(2))
        testClassify(avgSpeed: Double(1.0115779638290403), avgSpeedAbove: Double(1.663321593327564), avgSpeedBelow: Double(0.6260504201680672), maxSpeed: Double(10.38599967956543), avgAccel: Double(5.049135137050973), avgAccelAbove: Double(5.785148908726073), avgAccelBelow: Double(0.1294658412769585), distance: Double(1511.0670166015625), duration: Double(1186.9990234375), activity: Double(1))
        testClassify(avgSpeed: Double(42.47315216064453), avgSpeedAbove: Double(53.736296963047344), avgSpeedBelow: Double(0.17547835072103835), maxSpeed: Double(287.13165283203125), avgAccel: Double(2.181739404163324), avgAccelAbove: Double(2.181739404163324), avgAccelBelow: Double(0.025666125850124327), distance: Double(7809.0), duration: Double(661962.0), activity: Double(2))
        testClassify(avgSpeed: Double(10.84620761871338), avgSpeedAbove: Double(15.808194674236677), avgSpeedBelow: Double(0.2445296574532081), maxSpeed: Double(64.42746734619139), avgAccel: Double(1.3204751786237938), avgAccelAbove: Double(1.8842132660238828), avgAccelBelow: Double(0.2710857649926587), distance: Double(3381.0), duration: Double(1122416.0), activity: Double(1))
        testClassify(avgSpeed: Double(4.651376724243164), avgSpeedAbove: Double(5.238811932112041), avgSpeedBelow: Double(0.08878484461841223), maxSpeed: Double(10.75214958190918), avgAccel: Double(2.1672210413878727), avgAccelAbove: Double(2.3138670622461404), avgAccelBelow: Double(0.04864370003532219), distance: Double(716.0), duration: Double(554892.0), activity: Double(1))
        testClassify(avgSpeed: Double(1.41770601272583), avgSpeedAbove: Double(1.527500008759291), avgSpeedBelow: Double(0.1559633027522936), maxSpeed: Double(4.010000228881837), avgAccel: Double(4.950272421069198), avgAccelAbove: Double(5.5482507145423305), avgAccelBelow: Double(0.1087035432302582), distance: Double(676.311279296875), duration: Double(551.4135131835939), activity: Double(1))
        testClassify(avgSpeed: Double(44.09123611450195), avgSpeedAbove: Double(50.41905073232429), avgSpeedBelow: Double(0.060796135919456026), maxSpeed: Double(140.20867919921878), avgAccel: Double(2.4471863701914027), avgAccelAbove: Double(2.459985265688525), avgAccelBelow: Double(0.015049131699536929), distance: Double(8109.0), duration: Double(662098.0), activity: Double(2))
        testClassify(avgSpeed: Double(30.18901634216309), avgSpeedAbove: Double(31.805959837777273), avgSpeedBelow: Double(0.0), maxSpeed: Double(71.8682632446289), avgAccel: Double(2.2853039456350066), avgAccelAbove: Double(2.2853039456350066), avgAccelBelow: Double(0.00862734943138905), distance: Double(1943.0), duration: Double(231705.0), activity: Double(2))
        testClassify(avgSpeed: Double(44.79990005493164), avgSpeedAbove: Double(45.260345780849455), avgSpeedBelow: Double(0.0), maxSpeed: Double(81.08931732177734), avgAccel: Double(2.46846113809262), avgAccelAbove: Double(2.480837143700948), avgAccelBelow: Double(0.002843488758247553), distance: Double(8236.0), duration: Double(661863.0), activity: Double(2))
        testClassify(avgSpeed: Double(3.863435983657837), avgSpeedAbove: Double(4.353284284046718), avgSpeedBelow: Double(0.17286817919235775), maxSpeed: Double(14.396998405456545), avgAccel: Double(2.362821002237287), avgAccelAbove: Double(3.0478756158549585), avgAccelBelow: Double(0.18246139387927304), distance: Double(637.0), duration: Double(593753.0), activity: Double(1))
        testClassify(avgSpeed: Double(18.14244079589844), avgSpeedAbove: Double(18.14244077858961), avgSpeedBelow: Double(0.0), maxSpeed: Double(40.26153945922852), avgAccel: Double(0.2485451493551933), avgAccelAbove: Double(0.4380265456680647), avgAccelBelow: Double(0.570796480672213), distance: Double(943.7750854492188), duration: Double(704.5617065429688), activity: Double(0))
        testClassify(avgSpeed: Double(10.547060012817383), avgSpeedAbove: Double(10.592548494425609), avgSpeedBelow: Double(0.004602991944764097), maxSpeed: Double(23.81999969482422), avgAccel: Double(1.023269872760103), avgAccelAbove: Double(1.130767712073212), avgAccelBelow: Double(0.092539938842813), distance: Double(20000.150390625), duration: Double(2999.955078125), activity: Double(2))
        testClassify(avgSpeed: Double(28.82221984863281), avgSpeedAbove: Double(28.69470881670713), avgSpeedBelow: Double(0.0), maxSpeed: Double(60.95598983764648), avgAccel: Double(2.4488894483168755), avgAccelAbove: Double(2.4488894483168755), avgAccelBelow: Double(0.004983455128910038), distance: Double(1601.0), duration: Double(200062.0), activity: Double(2))
        testClassify(avgSpeed: Double(27.968130111694336), avgSpeedAbove: Double(27.645443806281452), avgSpeedBelow: Double(0.0), maxSpeed: Double(37.73995590209961), avgAccel: Double(3.0398561232272363), avgAccelAbove: Double(3.0398561232272363), avgAccelBelow: Double(0.0), distance: Double(1254.0), duration: Double(161513.0), activity: Double(2))
        testClassify(avgSpeed: Double(6.255003929138184), avgSpeedAbove: Double(7.225213956832887), avgSpeedBelow: Double(0.14818154103613568), maxSpeed: Double(18.70957374572754), avgAccel: Double(6.104214585124562), avgAccelAbove: Double(6.104214585124562), avgAccelBelow: Double(0.0033242740109879422), distance: Double(535.0), duration: Double(308338.0), activity: Double(1))
        testClassify(avgSpeed: Double(30.01900291442871), avgSpeedAbove: Double(29.353701293468475), avgSpeedBelow: Double(0.0), maxSpeed: Double(64.18777465820311), avgAccel: Double(2.3889011619626195), avgAccelAbove: Double(2.4434447050036145), avgAccelBelow: Double(0.015879515700364208), distance: Double(2117.0), duration: Double(253975.0), activity: Double(2))
        testClassify(avgSpeed: Double(6.088227272033691), avgSpeedAbove: Double(6.0882269423058695), avgSpeedBelow: Double(0.0), maxSpeed: Double(8.449999809265138), avgAccel: Double(5.611079661505414), avgAccelAbove: Double(5.611079661505414), avgAccelBelow: Double(0.0), distance: Double(1005.4600219726562), duration: Double(170.7301788330078), activity: Double(1))
        testClassify(avgSpeed: Double(38.582008361816406), avgSpeedAbove: Double(44.25241934299469), avgSpeedBelow: Double(0.09459592174990482), maxSpeed: Double(207.92857360839844), avgAccel: Double(2.190835108401252), avgAccelAbove: Double(2.2047979905923563), avgAccelBelow: Double(0.014860576153389775), distance: Double(7966.0), duration: Double(743309.0), activity: Double(2))
        testClassify(avgSpeed: Double(30.63459587097168), avgSpeedAbove: Double(37.53668171098066), avgSpeedBelow: Double(0.10478546401782317), maxSpeed: Double(176.3108367919922), avgAccel: Double(0.6887002683377976), avgAccelAbove: Double(0.8820319145902327), avgAccelBelow: Double(0.2281358818335084), distance: Double(23677.0), duration: Double(2782447.0), activity: Double(2))
        testClassify(avgSpeed: Double(15.391160011291506), avgSpeedAbove: Double(15.7809878066785), avgSpeedBelow: Double(0.02572347266881029), maxSpeed: Double(115.7039031982422), avgAccel: Double(0.2376929659116838), avgAccelAbove: Double(0.5306515781868738), avgAccelBelow: Double(0.6749988536656191), distance: Double(15624.76953125), duration: Double(1205.1910400390625), activity: Double(2))
        testClassify(avgSpeed: Double(1.2511509656906128), avgSpeedAbove: Double(1.394854362728526), avgSpeedBelow: Double(0.2589928057553957), maxSpeed: Double(2.009999990463257), avgAccel: Double(4.545510525868127), avgAccelAbove: Double(4.782725375250831), avgAccelBelow: Double(0.04989168634266955), distance: Double(1234.3299560546875), duration: Double(1048.43505859375), activity: Double(1))
        testClassify(avgSpeed: Double(39.64196395874024), avgSpeedAbove: Double(44.51050482544246), avgSpeedBelow: Double(0.10660659166826264), maxSpeed: Double(146.82217407226562), avgAccel: Double(2.76425044357198), avgAccelAbove: Double(2.7767406451382053), avgAccelBelow: Double(0.003751992896458925), distance: Double(8854.0), duration: Double(804106.0), activity: Double(2))
        testClassify(avgSpeed: Double(37.91349792480469), avgSpeedAbove: Double(37.32273778915405), avgSpeedBelow: Double(0.0), maxSpeed: Double(56.68508529663086), avgAccel: Double(2.5228932498149943), avgAccelAbove: Double(2.5228932498149943), avgAccelBelow: Double(0.023529176778420268), distance: Double(3163.0), duration: Double(300393.0), activity: Double(2))
        testClassify(avgSpeed: Double(1.490986943244934), avgSpeedAbove: Double(1.6761139909220482), avgSpeedBelow: Double(0.2122448979591837), maxSpeed: Double(3.940000057220459), avgAccel: Double(4.5775814204446155), avgAccelAbove: Double(4.973741681715784), avgAccelBelow: Double(0.08111039333025992), distance: Double(1548.041015625), duration: Double(1136.927978515625), activity: Double(1))
        testClassify(avgSpeed: Double(1.2166149616241455), avgSpeedAbove: Double(1.3309803944008018), avgSpeedBelow: Double(0.2153846153846154), maxSpeed: Double(1.7799999713897705), avgAccel: Double(3.737785460001313), avgAccelAbove: Double(4.942800602008293), avgAccelBelow: Double(0.2479700663216428), distance: Double(607.690185546875), duration: Double(842.0048828125), activity: Double(1))
        testClassify(avgSpeed: Double(1.7000000476837158), avgSpeedAbove: Double(1.7000000476837158), avgSpeedBelow: Double(0.0), maxSpeed: Double(1.7000000476837158), avgAccel: Double(7.0139217681597055), avgAccelAbove: Double(7.0139217681597055), avgAccelBelow: Double(0.0), distance: Double(103.66390228271484), duration: Double(84.71943664550781), activity: Double(2))
        testClassify(avgSpeed: Double(1.2119120359420776), avgSpeedAbove: Double(1.534210525060955), avgSpeedBelow: Double(0.4411764705882353), maxSpeed: Double(3.2999999523162837), avgAccel: Double(7.684556552760213), avgAccelAbove: Double(7.684556552760213), avgAccelBelow: Double(0.0), distance: Double(406.4153137207031), duration: Double(242.59230041503903), activity: Double(1))
        testClassify(avgSpeed: Double(1.2542259693145752), avgSpeedAbove: Double(1.384464841548304), avgSpeedBelow: Double(0.2421052631578947), maxSpeed: Double(1.8714679479599), avgAccel: Double(3.946610010313113), avgAccelAbove: Double(4.442869753644963), avgAccelBelow: Double(0.1134284442748741), distance: Double(559.94970703125), duration: Double(537.1353759765625), activity: Double(1))
    }
    
        
}
